{% extends "pydata_sphinx_theme/layout.html" %}

{% block docs_navbar %}

    <!-- Top version and announcement message -->
    <script>
        
    // Function to generate version and announcement banner HTML
    function getBannerHTML() {
        return `
            {% if 'docs.beagleboard.org' not in docs_url%}
            <aside id="bd-header-version-warning" class="d-print-none" aria-label="Version warning">
                <div class="bd-header-announcement__content ms-auto me-auto">
                    <div class="sidebar-message">
                        {{ current_url }}
                        {% if 'beagleboard.io/docs.beagleboard.io' in docs_url %}
                        {{forked_version_message}}
                        {% elif 'docs.beagleboard.io' in docs_url %}
                        {{development_version_message}}
                        {% else %}
                        {{unknown_version_message}}
                        {% endif %}
                        <a class="btn text-wrap font-weight-bold ms-3 my-1 align-baseline pst-button-link-to-stable-version" href="{{version_link}}">
                            {{version_link_text}}
                        </a>
                    </div>
                </div>
            </aside>
            {% endif %}
            {% if announcement_message != '' %}
            <aside class="bd-header-announcement" aria-label="Announcement">
                <div class="bd-header-announcement__content">{{ announcement_message }}</div>
            </aside>
            {% endif %}
        `;
    }
    
    // Get the target element where the banners will be added
    const bannerDiv = document.getElementsByClassName('pst-async-banner-revealer')[0];

    // Add version banner and announcement banner if bannerDiv is valid
    if (bannerDiv) {
        bannerDiv.innerHTML = getBannerHTML();
    }
    
    </script>

    {{ super() }}

{% endblock docs_navbar %}
